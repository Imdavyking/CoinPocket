(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[26475],{902981:(t,e,s)=>{"use strict";s.d(e,{getThemeFromUserSettings:()=>r,saveThemeInUserSettings:()=>n});var i=s(62802);function o(t){const e=function(){const t=location.hostname.split(".").filter(Boolean);return t.every(isFinite)?location.host:t.slice(-2).join(".")}(),s=void 0===t?-1:3e8;document.cookie=`theme=${t};path=/;domain=${e};max-age=${s}`}function r(){return/(?:^|;)\s*theme=(dark|light)(?:;|$)|$/.exec(document.cookie)[1]||(0,i.getValue)("current_theme.name")||null}function n(t){o(t),(0,i.setValue)("current_theme.name",t,{forceFlush:!0})}},440135:(t,e,s)=>{"use strict";s.r(e),s.d(e,{DEFAULT_THEME:()=>u.DEFAULT_THEME,extractThemeFromModel:()=>D,getCurrentTheme:()=>_,getStdTheme:()=>w,getStdThemeNames:()=>y,getStdThemedValue:()=>A,getTheme:()=>x,getThemeNames:()=>C,getThemedColor:()=>f,isPublicTheme:()=>g,isStdTheme:()=>R,isStdThemeName:()=>b,isStdThemedDefaultValue:()=>M,isThemeExist:()=>F,loadTheme:()=>p,removeTheme:()=>P,restoreTheme:()=>S,saveTheme:()=>I,savedThemeName:()=>v,syncTheme:()=>T,themes:()=>m.themes,translateStdThemeName:()=>E});var i=s(724377),o=s(16665),r=s(902981),n=s(890740);const a=(0,s(272001).getLogger)("Themes.Provider");let h=null;function l(t){return(0,n.fetch)("/theme/?themeName="+encodeURIComponent(t),{credentials:"include",method:"GET"}).then((t=>t.json())).then((t=>{const e={};return t.content&&(e.content=JSON.parse(t.content)),e}))}var c=s(919346),d=s(909740),u=s(484400),m=s(369094);function g(t){return!t.isPrivate}function _(){return m.themes[d.watchedTheme.value()]||m.themes[u.DEFAULT_THEME]}function f(t){return _().getThemedColor(t)}async function p(t,e){const{themeName:s,standardTheme:i,syncState:r=!0,noUndo:n=!1,applyOverrides:a=!1}=e,h=await(i?Promise.resolve(w(s)):x(s)),l=!i;if(void 0!==h.content){const e=!i;a&&(void 0!==(c=h.content).chartProperties&&(0,o.applyDefaultsOverrides)(c.chartProperties),void 0!==c.mainSourceProperties&&(0,o.applyDefaultsOverrides)(c.mainSourceProperties,void 0,!0,"mainSeriesProperties")),await t.applyTheme({theme:h.content,onlyActiveChart:e,restoreNonThemeDefaults:l,themeName:s,standardTheme:i,syncState:r,noUndo:n})}var c;return h}function S(){(0,d.setTheme)((0,r.getThemeFromUserSettings)()||u.DEFAULT_THEME)}function v(){return(0,r.getThemeFromUserSettings)()}function T(){(0,r.saveThemeInUserSettings)(_().name)}function x(t){return l(t)}function C(){return h||(0,n.fetch)("/themes/",{credentials:"include",method:"GET"}).then((t=>(h=t.json(),h)))}function y(){return c.getStdThemeNames()}function b(t){return y().includes(t)}function w(t){return c.getStdChartTheme(t)||{content:void 0}}function A(t,e){const s=e||_().name,i=c.getStdChartTheme(s),o=0!==t.length&&t.split(".");return i&&i.content&&o?o.reduce(((t,e)=>t[e]),i.content):null}function M(t,e,s){const o=A(t,s);return null!==o&&(0,i.areEqualRgba)((0,i.parseRgba)(o),(0,i.parseRgba)(String(e)))}function I(t,e){return function(t,e){const s=new FormData;return s.append("content",JSON.stringify(e)),s.append("name",t),h=null,(0,
n.fetch)("/save-theme/",{credentials:"include",method:"POST",body:s}).then((t=>t.json()),(t=>a.logError(t)))}(t,e)}function P(t){return function(t){const e=new FormData;return e.append("name",t),h=null,(0,n.fetch)("/remove-theme/",{credentials:"include",method:"POST",body:e}).then((t=>t.json()),(t=>a.logError(t)))}(t)}function F(t){return function(t){return l(t).then((t=>Boolean(t.content)))}(t)}function E(t){return c.translateThemeName(t)}function R(t){return c.isStdTheme(t)}function D(t){return{content:{chartProperties:{paneProperties:t.model().properties().childs().paneProperties.state(),scalesProperties:t.model().properties().childs().scalesProperties.state()},sessions:t.model().sessions().properties().state(),mainSourceProperties:t.model().mainSeries().properties().state(),version:t.model().version()}}}},656337:(t,e,s)=>{"use strict";s.d(e,{ChartSession:()=>d});var i=s(869403),o=s.n(i),r=s(650151),n=s(988411),a=s.n(n),h=s(777491);const l=(0,s(272001).getLogger)("ChartApi.AbstractSession");var c=s(758337);class d extends class{constructor(t,e,s){this._isConnected=new(a())(!1),this._state=0,this._isConnectForbidden=!1,this._sessionId="",this._sessionIdChanged=new(o()),this._chartApi=t,this._sessionPrefix=e,this._shouldReconnectAfterCriticalError=s}destroy(){this._logNormal("Destroying session"),this._isConnected.unsubscribe(),this.disconnect(),this._sessionIdChanged.destroy(),delete this._chartApi,this._logNormal("Session has been destroyed")}isConnected(){return this._isConnected}sessionId(){return this._sessionId}onSessionIdChanged(){return this._sessionIdChanged}connect(){0===this._state&&((0,r.assert)(!this._isConnectForbidden,"Cannot call connect because it is forbidden at this moment"),this._setSessionId(`${this._sessionPrefix}_${(0,h.randomHash)()}`),this._logNormal("Connecting session - wait until transport stay connected"),this._state=1,this._chartApi.createSession(this._sessionId,this))}disconnect(){0!==this._state&&((0,r.assert)(""!==this._sessionId,"sessionId must not be invalid"),this._logNormal("Disconnecting session..."),this._forbidConnectWhile((()=>{this._chartApi.connected()&&this._sendRemoveSession(),this._processDestroyingOnServer()})))}onMessage(t){switch(t.method){case"connected":return void this._onChartApiConnected();case"disconnected":return void this._onChartApiDisconnected();case"critical_error":const e=String(t.params[0]),s=String(t.params[1]);return void this._onCriticalError(e,s)}this._onMessage(t)}_getChartApi(){return this._chartApi}_generateLogMessage(t){return`[${this._sessionId}] ${t}`}_onCriticalError(t,e){this._logError(`Critical error. Reason=${t}, info=${e}.`),this._forbidConnectWhile((()=>{this._processDestroyingOnServer()})),this._shouldReconnectAfterCriticalError?(this._logNormal("Reconnecting after critical error..."),this.connect()):this._logNormal("Reconnecting after critical error skipped")}_onChartApiConnected(){(0,r.assert)(1===this._state,"Session is not registered"),this._logNormal("Transport is connected. Creating session on the server"),this._sendCreateSession(),
this._state=2,this._isConnected.setValue(!0)}_onChartApiDisconnected(){this._logNormal("Transport is disconnected. Reconnecting..."),this._forbidConnectWhile((()=>{this._processDestroyingOnServer()})),this.connect()}_setSessionId(t){const e=this._sessionId;this._logNormal(`Changing sessionId: old=${e}, new=${t}`),this._sessionId=t,this._sessionIdChanged.fire(t,e)}_logNormal(t){l.logNormal(this._generateLogMessage(t))}_logError(t){l.logError(this._generateLogMessage(t))}_processDestroyingOnServer(){this._state=0,this._isConnected.setValue(!1),this._chartApi.removeSession(this._sessionId),this._setSessionId("")}_forbidConnectWhile(t){this._isConnectForbidden=!0,t(),this._isConnectForbidden=!1}}{constructor(t,e=!1){super(t,"cs",!1),this._sessionDisabled=!1,this._handler=null,this._criticalError=new(o()),this._symbolResolveMap=new Map,this._disableStatistics=e}destroy(){this._criticalError.destroy(),this._handler=null,this._symbolResolveMap.clear(),super.destroy()}serverTimeOffset(){return this._getChartApi().serverTimeOffset()}switchTimezone(t){return this._getChartApi().switchTimezone(this.sessionId(),t)}defaultResolutions(){return this._getChartApi().defaultResolutions()}availableCurrencies(){return this._getChartApi().availableCurrencies()}availableUnits(){return this._getChartApi().availableUnits()}resolveSymbol(t,e,s){if(this._symbolResolveMap.has(e)){const[t,i]=this._symbolResolveMap.get(e);return Array.isArray(i)?i.push(s):i.then(s),t}{const i=[s];return this._getChartApi().resolveSymbol(this.sessionId(),t,e,(s=>{"symbol_error"===s.method?this._symbolResolveMap.delete(e):this._symbolResolveMap.set(e,[t,Promise.resolve(s)]),i.forEach((t=>t(s)))})),this._symbolResolveMap.set(e,[t,i]),t}}requestFirstBarTime(t,e,s){return this._getChartApi().requestFirstBarTime(this.sessionId(),t,e,s)}createSeries(t,e,s,i,o,r,n){return this._getChartApi().createSeries(this.sessionId(),t,e,s,i,o,r,n)}modifySeries(t,e,s,i,o,r){return this._getChartApi().modifySeries(this.sessionId(),t,e,s,i,o,r)}removeSeries(t){return!!this.isConnected().value()&&this._getChartApi().removeSeries(this.sessionId(),t)}requestMoreData(t,e,s){return"number"==typeof t?this._getChartApi().requestMoreData(this.sessionId(),t):this._getChartApi().requestMoreData(this.sessionId(),t,e,s)}requestMoreTickmarks(t,e,s){return(0,c.isNumber)(t)?this._getChartApi().requestMoreTickmarks(this.sessionId(),t):this._getChartApi().requestMoreTickmarks(this.sessionId(),t,e,s)}requestMetadata(t,e){this._getChartApi().requestMetadata(this.sessionId(),t,e)}canCreateStudy(t){return this._getChartApi().canCreateStudy(t)}createStudy(t,e,s,i,o,r,n){return this._getChartApi().createStudy(this.sessionId(),t,e,s,i,o,r,n)}rebindStudy(t,e,s,i,o,r,n){return this._getChartApi().rebindStudy(this.sessionId(),t,e,s,i,o,r,n)}modifyStudy(t,e,s,i,o){return this._getChartApi().modifyStudy(this.sessionId(),t,e,s,i,o)}removeStudy(t,e){return this._getChartApi().removeStudy(this.sessionId(),t,e)}createPointset(t,e,s,i,o,r){return this._getChartApi().createPointset(this.sessionId(),t,e,s,i,o,r)}
modifyPointset(t,e,s,i){return this._getChartApi().modifyPointset(this.sessionId(),t,e,s,i)}removePointset(t){return this._getChartApi().removePointset(this.sessionId(),t)}setVisibleTimeRange(t,e,s,i,o,r){0}criticalError(){return this._criticalError}connect(t=null){null!==t&&(this._handler=t),this._symbolResolveMap.clear(),super.connect()}setHandler(t){this._handler=t}connected(){return this.isConnected().value()&&!this._sessionDisabled}disable(){this._sessionDisabled=!0}chartApi(){return this._getChartApi()}_sendCreateSession(){Object.keys(this).forEach((t=>{/^(s|st|symbol_)\d+$/.test(t)&&delete this[t]})),this._getChartApi().chartCreateSession(this.sessionId(),this._disableStatistics)}_sendRemoveSession(){this._getChartApi().chartDeleteSession(this.sessionId())}_onMessage(t){this._handler&&this._handler(t)}_onCriticalError(t,e){this._criticalError.fire(t,e),super._onCriticalError(t,e)}}},408767:(t,e,s)=>{"use strict";s.d(e,{clientSnapshot:()=>M,widgetClientSnapshot:()=>P});var i=s(327714),o=s(650151),r=s(86441),n=s(724377),a=s(919346),h=s(923195),l=s(741341),c=s(623331),d=s(538708),u=s(440135),m=s(110123),g=s(495046),_=s(776351);const f=(g.enabled("widget_logo"),!1);function p(t,e=null,s=null){let i={};if("number"==typeof t)return{relativePositions:{[t]:{l:e,t:s}},nextElementLeft:t,nextElementTop:t};const[o,...r]=t;if("v"===o){let t=null;for(const o of r){const r=p(o,e,s);i={...i,...r.relativePositions},s=r.nextElementTop,t=r.nextElementLeft}e=t}if("h"===o){let t=null;for(const o of r){const r=p(o,e,s);i={...i,...r.relativePositions},e=r.nextElementLeft,t=r.nextElementTop}s=t}return{relativePositions:i,nextElementTop:s,nextElementLeft:e}}const S=function(t){const e={};for(const s of Object.keys(t)){const i=p(t[s]).relativePositions;e[s]=i}return e}(m);function v(t,e,s,i){let o=Math.round(10*i),r=Math.round(10*i);const n=s[t];if(null!==n.l){const t=v(n.l,e,s,i);o=t.x+t.width+Math.round(5*i)}if(null!==n.t){const t=v(n.t,e,s,i);r=t.y+t.height+Math.round(5*i)}const a=e[t];return{x:o,y:r,width:a.width,height:a.height}}function T(t,e,s){var i;const o=(new DOMParser).parseFromString(_,"image/svg+xml");null===(i=null==o?void 0:o.firstElementChild)||void 0===i||i.setAttribute("color",s);const r=URL.createObjectURL(new Blob([(new XMLSerializer).serializeToString(o)],{type:"image/svg+xml"}));return new Promise((s=>{const i=new Image;i.width=t,i.height=e,i.onload=()=>{s({image:i,width:t,height:e})},i.src=r}))}function x(t,e,s,i,o){t.save(),t.drawImage(i.image,e,s,i.width,i.height),t.textBaseline="bottom";const r=(e+i.width)/o+3,n=(s+i.height)/o;(0,l.drawScaled)(t,o,(()=>{t.fillText("TradingView",r,n)})),t.restore()}function C(t,e,s,i){return(0,l.drawScaled)(t,i,(()=>{t.fillText(s,e.x/i,e.y/i)})),t.measureText(s).width*i}function y(t,e,s,i,o,n){const a=o.map((t=>t.text)).join("");let l=s.x;const c=function(t,e,s,i){if(t.measureText(e).width*i<=s)return{text:e,elided:!1};const o=t.measureText("...").width*i,r=[];for(let t=0;t<e.length;++t)r.push(t);const n=(0,h.upperbound)(r,s,((r,n)=>t.measureText(e.slice(0,n+1)).width*i+o>s))
;return{text:(e=e.slice(0,n)).trim(),elided:!0}}(t,a,i-l,e);if(c.elided&&!n)return null;const d=[];let u=0;for(const t of o){if(u+t.text.length>c.text.length)break;d.push(t.text),u+=t.text.length}const m=d.join("").trim().length;u=0;for(const i of o){if(u+i.text.length>m)break;i.color&&(t.save(),t.fillStyle=i.color),l+=C(t,new r.Point(l,s.y),i.text,e),i.color&&t.restore(),u+=i.text.length}return c.elided&&(l+=C(t,new r.Point(l,s.y),"...",e)),l}function b(t){return t.map((t=>({...t,title:""})))}function w(t,e){const s=[{text:t.trim()}];for(const t of e)t.visible&&(""!==s[s.length-1].text&&s.push({text:"  "}),t.title&&s.push({text:t.title}),s.push({text:t.value,color:t.color}));return s}class A{constructor(t,e){this._logoTextColor=null,this._snapshotData=t,e=e||{},this._options={backgroundColor:u.themes[t.theme].getThemedColor("color-bg-primary"),borderColor:u.themes[t.theme].getThemedColor("color-border"),font:c.CHART_FONT_FAMILY,fontSize:12,legendMode:"vertical",hideResolution:!1,showHeaderPublishedBy:!1,showHeaderMainSymbol:!1,...e};const s=S[t.layout],o=t.charts.map((t=>function(t){const e=t.panes[0],s=e.canvas.width+e.leftAxis.canvas.width+e.rightAxis.canvas.width;let o=0;for(const e of t.panes)o+=e.canvas.height;return void 0!==t.timeAxis&&0!==t.timeAxis.contentHeight&&(o+=t.timeAxis.canvas.height),(0,i.size)({width:s,height:o})}(t)));if(this._pixelRatio=t.hidpiRatio,this._chartsGeometry=t.charts.map(((t,e)=>v(e,o,s,this._pixelRatio))),!f){let s=t.theme;void 0!==e.backgroundColor&&(s="black"===(0,n.rgbToBlackWhiteString)((0,n.parseRgb)(e.backgroundColor),150)?a.StdTheme.Dark:a.StdTheme.Light),this._logoTextColor=u.themes[s].getThemedColor("color-text-primary")}this._headerDefaultTextColor=u.themes[t.theme].getThemedColor("color-text-primary")}async getImage(){const t=this._pixelRatio;let e=0,s=0,o=0;const n=this._headerItems();if(n.length>0){o=Math.ceil(1.4*this._options.fontSize*t)*n.length}s+=o;let a=0,h=0;for(const t of this._chartsGeometry)a=Math.max(a,t.x+t.width),h=Math.max(h,t.y+t.height);const u=s;e+=a,s+=h,e+=Math.round(10*t);const m=f?Math.round(10*t):Math.round(35*t),g=s;s+=m;const _=(0,l.createDisconnectedCanvas)(document,(0,i.size)({width:e,height:s}),1),p=(0,l.getContext2D)(_);p.font=(0,d.makeFont)(this._options.fontSize,this._options.font),p.textBaseline="top",p.fillStyle=this._options.backgroundColor,p.fillRect(0,0,e,s),n.length>0&&this._drawHeader(p,n,e,new r.Point(Math.round(10*t),Math.round(10*t)));for(let t=0;t<this._snapshotData.charts.length;++t){const e=this._snapshotData.charts[t],s=this._chartsGeometry[t];this._drawChart(e,s,p,new r.Point(0,u))}if(null!==this._logoTextColor){const e=await T(Math.round(20*t),Math.round(15*t),this._logoTextColor);p.fillStyle=this._logoTextColor,p.font=(0,d.makeFont)(13,c.CHART_FONT_FAMILY);const s=g+Math.round(m/2-e.height/2);x(p,Math.round(10*t),s,e,t)}return _}_drawChart(t,e,s,i){s.save(),s.translate(e.x+i.x,e.y+i.y);let o=0;for(const e of t.panes){let i=0
;const n=e.leftAxis.canvas.width+Math.round(8*this._pixelRatio),a=o,h=o+Math.round(10*this._pixelRatio);e.leftAxis.contentWidth>0&&e.leftAxis.contentHeight>0&&(s.drawImage(e.leftAxis.canvas,i,o),i+=e.leftAxis.canvas.width),s.drawImage(e.canvas,i,o),i+=e.canvas.width,e.rightAxis.contentWidth>0&&e.rightAxis.contentHeight>0&&s.drawImage(e.rightAxis.canvas,i,o),"pane"===e.type&&(s.fillStyle=t.colors.text,this._drawLegend(e,s,new r.Point(n,h),a)),o+=e.canvas.height}if(void 0!==t.timeAxis&&0!==t.timeAxis.contentHeight){let e=0;t.timeAxis.lhsStub.contentWidth>0&&t.timeAxis.lhsStub.contentHeight>0&&(s.drawImage(t.timeAxis.lhsStub.canvas,e,o),e+=t.timeAxis.lhsStub.canvas.width),s.drawImage(t.timeAxis.canvas,e,o),e+=t.timeAxis.canvas.width,t.timeAxis.rhsStub.contentWidth>0&&t.timeAxis.rhsStub.contentHeight>0&&s.drawImage(t.timeAxis.rhsStub.canvas,e,o)}s.strokeStyle=this._options.borderColor,s.strokeRect(0,0,e.width,e.height),s.restore()}_headerItems(){var t,e,s,i;const o=[];if(this._options.showHeaderPublishedBy&&this._snapshotData.publishedBy)for(const t of this._snapshotData.publishedBy)o.push([{text:t}]);if(this._options.showHeaderMainSymbol){const r=this._snapshotData.charts[0],n=`${null===(t=r.meta)||void 0===t?void 0:t.symbol}, ${null===(e=r.meta)||void 0===e?void 0:e.resolution}`;o.push(w(n,null!==(i=null===(s=r.meta)||void 0===s?void 0:s.values)&&void 0!==i?i:[]))}return o}_drawHeader(t,e,s,i){t.save(),t.fillStyle=this._headerDefaultTextColor;const o=Math.ceil(1.4*this._options.fontSize*this._pixelRatio);e.forEach(((e,n)=>{y(t,this._pixelRatio,new r.Point(i.x,i.y+o*n),s,e,!0)})),t.restore()}_drawLegend(t,e,s,i){let n=!0;const a=Math.ceil(1.4*this._options.fontSize*this._pixelRatio);let h=s.x,l=s.y;if(t.mainSeriesText&&l+a<i+t.canvas.height){const s=y(e,this._pixelRatio,new r.Point(h,l),t.contentWidth*this._pixelRatio,w(t.mainSeriesText,t.mainSeriesValues),!0);"horizontal"!==this._options.legendMode?l+=a:(h=(0,o.ensureNotNull)(s)+1.4*this._options.fontSize*this._pixelRatio,n=!1)}for(let o=0;o<t.studies.length;++o)if(l+a<i+t.canvas.height){const i=t.studies[o],c=t.studiesValues[o];let d=null;for(;null===d;)d=y(e,this._pixelRatio,new r.Point(h,l),t.contentWidth*this._pixelRatio,w(i,b(c)),n),"horizontal"!==this._options.legendMode?l+=a:null===d?(n=!0,h=s.x,l+=a):(h=d+1.4*this._options.fontSize*this._pixelRatio,n=!1)}}}async function M(t,e){return new A(t,e).getImage()}class I{constructor(t,e){if(this._logoTextColor=null,this._widgetSnapshot=t,e=e||{},this._options={backgroundColor:u.themes[t.theme].getThemedColor("color-bg-primary"),borderColor:u.themes[t.theme].getThemedColor("color-border"),font:c.CHART_FONT_FAMILY,fontSize:12,showHeaderPublishedBy:!0,...e},this._pixelRatio=t.hidpiRatio,!f){let s=t.theme;void 0!==e.backgroundColor&&(s="black"===(0,n.rgbToBlackWhiteString)((0,n.parseRgb)(e.backgroundColor),150)?a.StdTheme.Dark:a.StdTheme.Light),this._logoTextColor=u.themes[s].getThemedColor("color-text-primary")}this._headerDefaultTextColor=u.themes[t.theme].getThemedColor("color-text-primary")}async getImage(){
const t=this._pixelRatio,e=Math.round(10*t);let s=0,o=0,n=0;const a=this._headerItems();if(a.length>0){n=Math.ceil(1.4*this._options.fontSize*t)*a.length}o+=n;const h=o,u=this._widgetSnapshot.canvas.width,m=this._widgetSnapshot.canvas.height;s+=u+2*e,o+=m+e;const g=Math.round(35*t),_=o;o+=g;const f=(0,l.createDisconnectedCanvas)(document,(0,i.size)({width:s,height:o}),1),p=(0,l.getContext2D)(f);if(p.font=(0,d.makeFont)(this._options.fontSize,this._options.font),p.textBaseline="top",p.fillStyle=this._options.backgroundColor,p.fillRect(0,0,s,o),a.length>0&&this._drawHeader(p,a,s,new r.Point(e,e)),p.drawImage(this._widgetSnapshot.canvas,e,e+h),p.strokeStyle=this._options.borderColor,p.strokeRect(e,e+h,u,m),null!==this._logoTextColor){const s=await T(Math.round(20*t),Math.round(15*t),this._logoTextColor);p.fillStyle=this._logoTextColor,p.font=(0,d.makeFont)(13,c.CHART_FONT_FAMILY);x(p,e,_+Math.round(g/2-s.height/2),s,t)}return f}_headerItems(){const t=[];if(this._options.showHeaderPublishedBy&&this._widgetSnapshot.publishedBy)for(const e of this._widgetSnapshot.publishedBy)t.push([{text:e}]);return t}_drawHeader(t,e,s,i){t.save(),t.fillStyle=this._headerDefaultTextColor;const o=Math.ceil(1.4*this._options.fontSize*this._pixelRatio);e.forEach(((e,n)=>{y(t,this._pixelRatio,new r.Point(i.x,i.y+o*n),s,e,!0)})),t.restore()}}async function P(t,e){return new I(t,e).getImage()}},736205:(t,e,s)=>{"use strict";s.d(e,{ToastsFactory:()=>i});class i{constructor(t,e){this._chartToastsPromise=null,this._resizerBridge=t,this._bottomToolbarOffsetHeightProvider=e}async getChartToasts(){return null!==this._chartToastsPromise||(this._chartToastsPromise=async function(){return Promise.all([Promise.all([s.e(21009),s.e(91217),s.e(62993),s.e(962),s.e(53088)]).then(s.bind(s,78181)),Promise.all([s.e(91217),s.e(37742),s.e(962),s.e(13830),s.e(94291)]).then(s.bind(s,13830))]).then((t=>[t[0].ChartToasts,t[1].globalToasts]))}().then((t=>{const e=t[0],s=t[1];return new e(this._resizerBridge,this._resizerBridge.container.value(),s,this._bottomToolbarOffsetHeightProvider())}))),this._chartToastsPromise}}},972362:(t,e,s)=>{"use strict";s.d(e,{extrapolateBarsFrontToTime:()=>o,extrapolateBarsFrontByCount:()=>r});var i=s(119460);function o(t,e,s,i,r=!1){if(e>s){const n=o(t,s,e,i,r);return n.count=-n.count,n}return n(t,e,1,((t,e)=>e>s||0!==i&&t>i),r)}function r(t,e,s,i=!1){const o=s<0?-1:1;return n(t,e,o,((t,e)=>t>=s*o),i)}function n(t,e,s,o,r){let n=0,a=e;t.moveTo(a);let h=0,l=Number.MAX_VALUE,c=!1,d=e;const u=[];for(;!o(n,a);){if(h>15)throw new Error("Internal error 0x10 while extrapolating.");const o=t.indexOfBar(a);if(o===i.SessionStage.PRE_SESSION&&1===s)a=t.startOfBar(0),t.moveTo(a);else if(o===i.SessionStage.PRE_SESSION&&-1===s)a=t.startOfBar(i.SessionStage.PRE_SESSION),t.moveTo(a);else if(o===i.SessionStage.POST_SESSION&&1===s)a=t.startOfBar(i.SessionStage.POST_SESSION),t.moveTo(a);else{if(o===i.SessionStage.POST_SESSION&&-1===s)throw new Error("Internal error 0x12 while extrapolating.");{const m=t.startOfBar(o);if(m>e&&s>0||e>m&&s<0){
if(c&&l===m)throw new Error("Internal error 0x11 while extrapolating.");c=!0,l=m,h=0,n++,d=m,r&&u.push(d)}if(0===o&&-1===s)a=m-1;else{a=t.startOfBar(o+s);const e=t.startOfBar(i.SessionStage.POST_SESSION);a>e&&(t.moveTo(e),a=t.startOfBar(0))}}}h++}return{time:d,times:u,count:n}}},38724:(t,e,s)=>{"use strict";s.d(e,{dateFormatProperty:()=>h,restoreDateFormatSettingsValue:()=>l});var i=s(62802),o=s(506845),r=s(838126);const n="date_format";function a(){return i.getValue(n,(0,r.defaultDateFormat)())}const h=(0,o.createPrimitiveProperty)(a());function l(){h.setValue((0,r.defaultDateFormat)()),i.remove(n)}i.onSync.subscribe(null,(()=>h.setValue(a()))),h.subscribe(null,(()=>i.setValue(n,h.value())))},147279:(t,e,s)=>{"use strict";s.d(e,{DateTimeFormatter:()=>n});var i=s(164280),o=s(662598);const r={dateFormat:"yyyy-MM-dd",withWeekday:!1,timeFormat:i.hourMinuteSecondFormat,dateTimeSeparator:" "};class n{constructor(t={}){const e=Object.assign({},r,t);this._dateFormatter=new o.DateFormatter(e.dateFormat,e.withWeekday),this._timeFormatter=new i.TimeFormatter(e.timeFormat),this._separator=e.dateTimeSeparator}format(t){return`${this._dateFormatter.format(t)}${this._separator}${this._timeFormatter.format(t)}`}formatLocal(t){return`${this._dateFormatter.formatLocal(t)}${this._separator}${this._timeFormatter.formatLocal(t)}`}}},971244:(t,e,s)=>{"use strict";s.d(e,{timeHoursFormatProperty:()=>a,restoreTimeHoursFormatSettingsValue:()=>h});var i=s(62802),o=s(506845);const r="time_hours_format";function n(){return i.getValue(r,"24-hours")}const a=(0,o.createPrimitiveProperty)(n());function h(){a.setValue("24-hours"),i.remove(r)}i.onSync.subscribe(null,(()=>a.setValue(n()))),a.subscribe(null,(()=>i.setValue(r,a.value())))},941167:(t,e,s)=>{"use strict";s.d(e,{getHourMinuteFormat:()=>o,getHourMinuteSecondFormat:()=>r,getTimeFormatForInterval:()=>n});var i=s(164280);function o(t){return"12-hours"===t?i.twelveHourMinuteFormat:i.hourMinuteFormat}function r(t){return"12-hours"===t?i.twelveHourMinuteSecondFormat:i.hourMinuteSecondFormat}function n(t,e){return t.isSeconds()||t.isTicks()?r(e):o(e)}},776351:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 28" width="36" height="28"><path fill="currentColor" d="M14 22H7V11H0V4h14v18zM28 22h-8l7.5-18h8L28 22z"/><circle fill="currentColor" cx="20" cy="8" r="4"/></svg>'}}]);